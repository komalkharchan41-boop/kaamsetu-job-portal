<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8" />
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
Â  Â  <title>KaamSetu - Smart Job Platform</title>
Â  Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
Â  Â Â 
Â  Â  <style>
Â  Â  Â  Â  * {margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', Arial, sans-serif;}

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  background: url('https://images.unsplash.com/photo-1504384308090-c894fdcc538d?auto=format&fit=crop&w=1500&q=80')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  no-repeat center center/cover;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  }

Â  Â  Â  Â  header {
Â  Â  Â  Â  Â  Â  background: rgba(0, 123, 255, 0.85);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  font-size: 26px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(5px);
Â  Â  Â  Â  Â  Â  /* Profile Icon Positioning Setup */
Â  Â  Â  Â  Â  Â  display: flex;Â 
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  position: relative;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Style for the Profile Icon Button */
Â  Â  Â  Â  #navProfile {
Â  Â  Â  Â  Â  Â  background: none;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  position: absolute;Â 
Â  Â  Â  Â  Â  Â  right: 20px;Â 
Â  Â  Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  Â  Â  transform: translateY(-50%);
Â  Â  Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  }

Â  Â  Â  Â  #navProfile i {
Â  Â  Â  Â  Â  Â  font-size: 30px;Â 
Â  Â  Â  Â  Â  Â  border: 2px solid white;
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  padding: 5px 8px;Â 
Â  Â  Â  Â  Â  Â  background-color: rgba(255, 255, 255, 0.2);
Â  Â  Â  Â  Â  Â  transition: 0.3s;
Â  Â  Â  Â  }

Â  Â  Â  Â  #navProfile:hover i {
Â  Â  Â  Â  Â  Â  background-color: rgba(255, 255, 255, 0.4);
Â  Â  Â  Â  }

Â  Â  Â  Â  nav {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  background: rgba(0, 86, 179, 0.9);
Â  Â  Â  Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  Â  }

Â  Â  Â  Â  nav button {
Â  Â  Â  Â  Â  Â  background: none;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 14px 22px;
Â  Â  Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: 0.3s;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Hide the Profile button from the main nav bar */
Â  Â  Â  Â  #navProfile, #navList {
Â  Â  Â  Â  Â  Â  display: none;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  nav button:not(#navProfile):hover {
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.2);
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Job Seekers button display after login/save */
Â  Â  Â  Â  #navList[style*="inline-block"] {
Â  Â  Â  Â  Â  Â  display: inline-block !important;
Â  Â  Â  Â  }


Â  Â  Â  Â  .section {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  animation: fadeIn 0.6s ease-in-out;
Â  Â  Â  Â  }

Â  Â  Â  Â  .active {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes fadeIn {
Â  Â  Â  Â  Â  Â  from {opacity: 0; transform: translateY(20px);}
Â  Â  Â  Â  Â  Â  to {opacity: 1; transform: translateY(0);}
Â  Â  Â  Â  }

Â  Â  Â  Â  .card {
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.9);
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  padding: 25px;
Â  Â  Â  Â  Â  Â  border-radius: 14px;
Â  Â  Â  Â  Â  Â  box-shadow: 0px 6px 15px rgba(0,0,0,0.2);
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  margin: 20px auto;
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(6px);
Â  Â  Â  Â  Â  Â  position: relative;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  h2 {
Â  Â  Â  Â  Â  Â  color: #007bff;
Â  Â  Â  Â  Â  Â  margin-bottom: 12px;
Â  Â  Â  Â  }

Â  Â  Â  Â  input, textarea {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 12px;
Â  Â  Â  Â  Â  Â  margin: 10px 0;
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  font-size: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .video-upload-container {
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  border: 1px solid #007bff;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  margin: 15px 0;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .video-upload-container input[type="file"] {
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  button.primary {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #007bff, #0056b3);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 12px 22px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  margin-top: 12px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  transition: 0.3s;
Â  Â  Â  Â  }

Â  Â  Â  Â  button.primary:hover {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #0056b3, #003d80);
Â  Â  Â  Â  }

Â  Â  Â  Â  .error {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  color: red;
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }

Â  Â  Â  Â  ul {
Â  Â  Â  Â  Â  Â  margin-left: 0;
Â  Â  Â  Â  Â  Â  list-style: none;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  }

Â  Â  Â  Â  ul li {
Â  Â  Â  Â  Â  Â  margin: 8px 0;
Â  Â  Â  Â  Â  Â  background: #f0f0f0;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  Â  Â  border-left: 3px solid #007bff;
Â  Â  Â  Â  Â  Â  font-size: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .profile-saved-alert {
Â  Â  Â  Â  Â  Â  position: fixed;Â 
Â  Â  Â  Â  Â  Â  top: 20px;
Â  Â  Â  Â  Â  Â  right: 20px;
Â  Â  Â  Â  Â  Â  background-color: #28a745;Â 
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 10px 15px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
Â  Â  Â  Â  Â  Â  z-index: 1000;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  transition: opacity 0.5s ease-in-out;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .profile-data p {
Â  Â  Â  Â  Â  Â  margin-bottom: 8px;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  background: #f9f9f9;
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  Â  Â  border-left: 4px solid #007bff;
Â  Â  Â  Â  }
Â  Â  Â  Â  .profile-data strong {
Â  Â  Â  Â  Â  Â  display: inline-block;
Â  Â  Â  Â  Â  Â  min-width: 120px;
Â  Â  Â  Â  Â  Â  color: #0056b3;
Â  Â  Â  Â  }
Â  Â  Â  Â  .video-player-container {
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  border: 1px dashed #007bff;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  @media(max-width: 600px) {
Â  Â  Â  Â  Â  Â  header {Â 
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 20px;Â 
Â  Â  Â  Â  Â  Â  Â  Â  padding-right: 70px;Â 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  nav button { font-size: 14px; padding: 10px 12px; }
Â  Â  Â  Â  Â  Â  #navProfile {
Â  Â  Â  Â  Â  Â  Â  Â  right: 10px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <header>
Â  Â  Â  Â  <h1>KaamSetu - Smart Job Platform</h1>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <button id="navProfile" style="display:none;" onclick="showProfileView()">
Â  Â  Â  Â  Â  Â  <i class="fas fa-user-circle"></i>Â 
Â  Â  Â  Â  </button>Â 
Â  Â  </header>

Â  Â  <nav>
Â  Â  Â  Â  <button onclick="showSection('home')">Home</button>
Â  Â  Â  Â  <button onclick="showSection('loginType')">Login</button>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <button id="navList" style="display:none;" onclick="showSection('jobSeekers')">Job Seekers</button>
Â  Â  </nav>

Â  Â  <div id="profileSavedAlert" class="profile-saved-alert">
Â  Â  Â  Â  Profile Updated Successfully!
Â  Â  </div>

Â  Â  <section id="home" class="section active">
Â  Â  Â  Â  <div class="card">
Â  Â  Â  Â  Â  Â  <h2>Welcome to KaamSetu</h2>
Â  Â  Â  Â  Â  Â  <p>Connecting local job seekers with employers in your community.</p>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section id="loginType" class="section">
Â  Â  Â  Â  <div class="card">
Â  Â  Â  Â  Â  Â  <h2>Choose Login Type</h2>
Â  Â  Â  Â  Â  Â  <button class="primary" onclick="chooseType('job')">I want a Job</button>
Â  Â  Â  Â  Â  Â  <button class="primary" onclick="chooseType('hire')">I want to Hire</button>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section id="location" class="section">
Â  Â  Â  Â  <div class="card">
Â  Â  Â  Â  Â  Â  <h2>Enter Your Location</h2>
Â  Â  Â  Â  Â  Â  <input type="text" id="locationInput" placeholder="Enter your location">
Â  Â  Â  Â  Â  Â  <button class="primary" onclick="checkLocation()">Continue</button>
Â  Â  Â  Â  Â  Â  <p id="locationError" class="error">Sorry, service not available in your area.</p>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section id="login" class="section">
Â  Â  Â  Â  <div class="card">
Â  Â  Â  Â  Â  Â  <h2>Login</h2>
Â  Â  Â  Â  Â  Â  <input type="text" id="aadhar" maxlength="12" placeholder="Enter Aadhaar Number">
Â  Â  Â  Â  Â  Â  <button class="primary" onclick="sendOTP()">Send OTP</button>
Â  Â  Â  Â  Â  Â  <div id="otpBox" style="display:none;">
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="otp" maxlength="6" placeholder="Enter OTP">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="primary" onclick="verifyLogin()">Login</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <p id="error" class="error">Invalid details. Try again.</p>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section id="profile" class="section">
Â  Â  Â  Â  <div class="card">
Â  Â  Â  Â  Â  Â  <h2>Edit Your Profile</h2>
Â  Â  Â  Â  Â  Â  <input type="text" id="p_name" placeholder="Full Name">
Â  Â  Â  Â  Â  Â  <input type="text" id="p_skills" placeholder="Skills (e.g. Driving, Plumbing)">
Â  Â  Â  Â  Â  Â  <input type="number" id="p_age" placeholder="Age">
Â  Â  Â  Â  Â  Â  <input type="text" id="p_education" placeholder="Education">
Â  Â  Â  Â  Â  Â  <input type="text" id="p_location" placeholder="Location">
Â  Â  Â  Â  Â  Â  <input type="text" id="p_contact" placeholder="Contact Number">
Â  Â  Â  Â  Â  Â  <input type="text" id="p_jobtype" placeholder="Job Type (e.g. Sales Assistant)">
Â  Â  Â  Â  Â  Â  <input type="text" id="p_experience" placeholder="Experience">
Â  Â  Â  Â  Â  Â  <input type="email" id="p_email" placeholder="Gmail">

Â  Â  Â  Â  Â  Â  <div class="video-upload-container">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="p_video">Upload Skill Showcase Video (Max 5MB):</label>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="file" id="p_video" accept="video/*" onchange="updateVideoFileName(this)">
Â  Â  Â  Â  Â  Â  Â  Â  <p id="videoFileName" style="margin-top: 5px; font-size: 12px; color: #007bff;">No file selected.</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <button class="primary" onclick="saveProfile()">Save Profile</button>
Â  Â  Â  Â  </div>
Â  Â  </section>
Â  Â Â 
Â  Â  <section id="profileView" class="section">
Â  Â  Â  Â  <div class="card">
Â  Â  Â  Â  Â  Â  <h2>Your Complete Resume</h2>
Â  Â  Â  Â  Â  Â  <div class="profile-data">
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Full Name:</strong> <span id="view_name"></span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Job Type:</strong> <span id="view_jobtype"></span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Skills:</strong> <span id="view_skills"></span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Age:</strong> <span id="view_age"></span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Education:</strong> <span id="view_education"></span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Location:</strong> <span id="view_location"></span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Contact:</strong> <span id="view_contact"></span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Experience:</strong> <span id="view_experience"></span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Email:</strong> <span id="view_email"></span></p>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="video-player-container">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>Skill Video Preview</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <video id="view_video" width="100%" height="240" controls style="border-radius: 8px; margin-top: 10px; background-color: #eee;"></video>
Â  Â  Â  Â  Â  Â  Â  Â  <p id="videoStatus" style="margin-top: 10px; font-weight: bold; color: #007bff;">No video uploaded yet.</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <button class="primary" onclick="showSection('profile')">Edit Profile</button>
Â  Â  Â  Â  </div>
Â  Â  </section>


Â  Â  <section id="jobSeekers" class="section">
Â  Â  Â  Â  <div class="card">
Â  Â  Â  Â  Â  Â  <h2>Available Job Seekers (Data from Server)</h2>
Â  Â  Â  Â  Â  Â  <ul id="jobSeekersList">
Â  Â  Â  Â  Â  Â  Â  Â  <li>Please wait, loading data...</li>
Â  Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <footer style="background: rgba(0,0,0,0.7); color: #fff; text-align: center; padding: 30px 15px; font-size: 14px; margin-top: 40px;">
Â  Â  Â  Â  <div style="max-width: 900px; margin: auto;">
Â  Â  Â  Â  Â  Â  <p><strong>About KaamSetu:</strong> KaamSetu is a community-driven platform that connects local job seekers with work providers to promote employment and skill development at the grassroots level.</p>
Â  Â  Â  Â  Â  Â  <p style="margin-top: 10px;">
Â  Â  Â  Â  Â  Â  Â  Â  ðŸ“§ Email: <a href="mailto:support@kaamsetu.in" style="color: #4da6ff;">support@kaamsetu.in</a> |
Â  Â  Â  Â  Â  Â  Â  Â  ðŸ“ž Phone: +91-9876543210
Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  <p style="margin-top: 10px;">
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#" style="color: #aaa; text-decoration: none;">Privacy Policy</a> |
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#" style="color: #aaa; text-decoration: none;">Terms of Use</a>
Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  <p style="margin-top: 10px;">
Â  Â  Â  Â  Â  Â  Â  Â  Follow us:
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#" style="color:#4da6ff; margin: 0 8px;">Facebook</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#" style="color:#4da6ff; margin: 0 8px;">Twitter</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#" style="color:#4da6ff; margin: 0 8px;">LinkedIn</a>
Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  <hr style="margin: 20px 0; border-color: #444;">
Â  Â  Â  Â  Â  Â  <p>Â© 2025 KaamSetu | Designed & Developed by <strong>Your Name / Team</strong></p>
Â  Â  Â  Â  </div>
Â  Â  </footer>

Â  Â  <script>
Â  Â  Â  Â  let generatedOTP = "";
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- API URL Setup: UPDATED FOR LIVE SERVER ---
Â  Â  Â  Â  const BASE_URL = 'https://kaamsetu-job-portal.onrender.com'; // <--- BADLAV 1: RENDER LIVE URL
Â  Â  Â  Â  
Â  Â  Â  Â  const API_BASE_URL = BASE_URL + '/api/jobseekers';
Â  Â  Â  Â  const AUTH_API_URL = BASE_URL + '/auth/send-otp';
Â  Â  Â  Â  const SAVE_PROFILE_API = BASE_URL + '/api/save-profile'; // NEW API
Â  Â  Â  Â Â 
Â  Â  Â  Â  // User Profile Data (stores the currently logged-in user's active/edited data)
Â  Â  Â  Â  let userProfileData = {
Â  Â  Â  Â  Â  Â  name: "", skills: "", age: "", education: "", location: "",
Â  Â  Â  Â  Â  Â  contact: "", jobtype: "", experience: "", email: "",
Â  Â  Â  Â  Â  Â  videoFile: null,Â 
Â  Â  Â  Â  Â  Â  videoFileName: "No file selected."
Â  Â  Â  Â  };

Â  Â  Â  Â  function showSection(id) {
Â  Â  Â  Â  Â  Â  document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
Â  Â  Â  Â  Â  Â  document.getElementById(id).classList.add("active");
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (id === 'profile') {
Â  Â  Â  Â  Â  Â  Â  Â  loadProfileEditData();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function showProfileView() {
Â  Â  Â  Â  Â  Â  loadProfileViewData();Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  document.getElementById("view_name").textContent = userProfileData.name || 'Not set';
Â  Â  Â  Â  Â  Â  document.getElementById("view_jobtype").textContent = userProfileData.jobtype || 'Not set';
Â  Â  Â  Â  Â  Â  document.getElementById("view_skills").textContent = userProfileData.skills || 'Not set';
Â  Â  Â  Â  Â  Â  document.getElementById("view_age").textContent = userProfileData.age || 'Not set';
Â  Â  Â  Â  Â  Â  document.getElementById("view_education").textContent = userProfileData.education || 'Not set';
Â  Â  Â  Â  Â  Â  document.getElementById("view_location").textContent = userProfileData.location || 'Not set';
Â  Â  Â  Â  Â  Â  document.getElementById("view_contact").textContent = userProfileData.contact || 'Not set';
Â  Â  Â  Â  Â  Â  document.getElementById("view_experience").textContent = userProfileData.experience || 'Not set';
Â  Â  Â  Â  Â  Â  document.getElementById("view_email").textContent = userProfileData.email || 'Not set';

Â  Â  Â  Â  Â  Â  const videoElement = document.getElementById("view_video");
Â  Â  Â  Â  Â  Â  const videoStatus = document.getElementById("videoStatus");

Â  Â  Â  Â  Â  Â  if (userProfileData.videoFile) {
Â  Â  Â  Â  Â  Â  Â  Â  videoElement.src = URL.createObjectURL(userProfileData.videoFile);
Â  Â  Â  Â  Â  Â  Â  Â  videoStatus.textContent = `Video: ${userProfileData.videoFileName} ready to play.`;
Â  Â  Â  Â  Â  Â  Â  Â  videoElement.style.display = 'block';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  videoElement.src = "";
Â  Â  Â  Â  Â  Â  Â  Â  videoStatus.textContent = "No skill showcase video uploaded yet.";
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  showSection('profileView');
Â  Â  Â  Â  }


Â  Â  Â  Â  function chooseType(type) {
Â  Â  Â  Â  Â  Â  if (type === 'job') {
Â  Â  Â  Â  Â  Â  Â  Â  showSection('location');
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Hiring feature coming soon!");
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- UPDATED: Flexible Location Check ---
Â  Â  Â  Â  function checkLocation() {
Â  Â  Â  Â  Â  Â  let loc = document.getElementById("locationInput").value.trim();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Allow access if location field is filled (more flexible)
Â  Â  Â  Â  Â  Â  if (loc.length > 2) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  showSection('login');
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("locationError").style.display = "none";
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("locationError").textContent = "Please enter a valid location.";
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("locationError").style.display = "block";
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- OTP Function (Using Server API) ---
Â  Â  Â  Â  async function sendOTP() {
Â  Â  Â  Â  Â  Â  let aadhar = document.getElementById("aadhar").value;
Â  Â  Â  Â  Â  Â  if (aadhar.length !== 12) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Enter valid 12-digit Aadhaar number.");
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(AUTH_API_URL, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: {'Content-Type': 'application/json'},
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({ aadhar: aadhar })
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  if (response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  generatedOTP = data.otp.toString();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Your OTP: " + generatedOTP);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("otpBox").style.display = "block";
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const error = await response.json();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert(`OTP Error: ${error.message || 'Server error'}`);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Error connecting to OTP server. Is Node.js running?");
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- Job Seekers List Population Function ---
Â  Â  Â  Â  async function populateJobSeekersList() {
Â  Â  Â  Â  Â  Â  // CHANGE 2: Used the specific ID for clarity
Â  Â  Â  Â  Â  Â  const listUl = document.getElementById('jobSeekersList');
Â  Â  Â  Â  Â  Â  // BADLAV 2: Loading message mein URL change
Â  Â  Â  Â  Â  Â  listUl.innerHTML = `<li style="border-left: 3px solid #ffc107; color: #007bff;">Loading data from server (${BASE_URL})...</li>`;Â 

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(API_BASE_URL);
Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const seekersData = await response.json();
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  listUl.innerHTML = '';Â 

Â  Â  Â  Â  Â  Â  Â  Â  if (seekersData.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  listUl.innerHTML = '<li>No job seekers found in the database.</li>';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  seekersData.forEach(seeker => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const li = document.createElement('li');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // --- Data Reading Logic (Updated to check for generic 'Skills' for user-saved data) ---
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const name = seeker.Name || 'N/A';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const jobType = seeker['Job type'] ? seeker['Job type'].trim() : 'N/A';Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const age = seeker.Age || 'N/A';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const education = seeker['Education '] ? seeker['Education '].trim() : 'N/A';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const location = seeker['Location '] ? seeker['Location '].trim() : 'N/A';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const contact = seeker['Contact '] ? seeker['Contact '].trim() : 'N/A';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const experience = seeker.Experience ? seeker.Experience.trim() : 'N/A';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Prioritize the generic 'Skills' field for user-saved data, fall back to a specific column name for CSV data
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const skill = seeker.Skills || (seeker['Sales Assistant '] ? seeker['Sales Assistant '].trim() : 'N/A');Â 


Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Highlight manually added entries
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const extraStyle = seeker.source === 'user_saved'Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ? 'background: #e6f7e6; border-left: 3px solid #28a745;' : '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const sourceTag = seeker.source === 'user_saved' ? ' (New Profile)' : '';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  li.setAttribute('style', li.getAttribute('style') + extraStyle);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  li.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>${name}</strong>${sourceTag} | Job: ${jobType} | Skill: ${skill} | Age: ${age} |Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Education: ${education} | Location: ${location} | Contact: ${contact} | Experience: ${experience}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // --- END OF DATA READING ---
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  listUl.appendChild(li);
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Failed to fetch job seekers:", error);
Â  Â  Â  Â  Â  Â  Â  Â  // BADLAV 3: Error message mein URL change
Â  Â  Â  Â  Â  Â  Â  Â  listUl.innerHTML = `<li style="color:red; border-left: 3px solid red;">Error loading data. Please check if the server ${BASE_URL} is running.</li>`;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- Login Verification Function (Checks against Server Data) ---
Â  Â  Â  Â  async function verifyLogin() {
Â  Â  Â  Â  Â  Â  let otp = document.getElementById("otp").value;
Â  Â  Â  Â  Â  Â  let aadhar = document.getElementById("aadhar").value;Â 

Â  Â  Â  Â  Â  Â  if (otp === generatedOTP) {
Â  Â  Â  Â  Â  Â  Â  Â  // Fetch all data from the server to verify the Aadhaar
Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(API_BASE_URL);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const seekersData = await response.json();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Find the user by Aadhaar (Note: matching against 'Aadhaar' column in CSV data or 'aadhar' in user-saved data)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const seeker = seekersData.find(s => s.Aadhaar === aadhar || s.aadhar === aadhar);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (seeker) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Login Successful! Welcome to KaamSetu.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Pre-filling Profile: Use generic 'Skills' if present (user-saved data), else use 'Sales Assistant ' (CSV data)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  userProfileData = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name: seeker.Name,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  skills: seeker.Skills || (seeker['Sales Assistant '] ? seeker['Sales Assistant '].trim() : ''),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  age: seeker.Age,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  education: seeker['Education '] ? seeker['Education '].trim() : '',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  location: seeker['Location '] ? seeker['Location '].trim() : '',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  contact: seeker['Contact '] ? seeker['Contact '].trim() : '',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  jobtype: seeker['Job type'] ? seeker['Job type'].trim() : '',Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  experience: seeker.Experience ? seeker.Experience.trim() : '',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  email: seeker.Gmail ? seeker.Gmail.trim() : '',Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  videoFile: userProfileData.videoFile,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  videoFileName: "No file selected."Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Save this pre-filled data to Local Storage
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const profileData = JSON.stringify(userProfileData);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('kaamsetu_profile', profileData);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("navProfile").style.display = "block";Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("navList").style.display = "inline-block";

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showSection("profile");Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Login Successful! Data not found. Please fill your new profile.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Clear old profile data if any, and start fresh edit
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Object.keys(userProfileData).forEach(key => userProfileData[key] = (key === 'videoFileName') ? "No file selected." : (key === 'videoFile') ? null : '');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("navProfile").style.display = "none";Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("navList").style.display = "none";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showSection("profile");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } catch(error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Login verification failed (API error):", error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Login successful, but failed to fetch data from the server. Please ensure the Node.js server is running.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showSection("profile");
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("error").style.display = "block";
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- UPDATED: Profile Save Function to send data to server ---
Â  Â  Â  Â  async function saveProfile() {
Â  Â  Â  Â  Â  Â  const videoInput = document.getElementById("p_video");
Â  Â  Â  Â  Â  Â  const maxSize = 5 * 1024 * 1024;Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (videoInput.files.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  const file = videoInput.files[0];
Â  Â  Â  Â  Â  Â  Â  Â  if (file.size > maxSize) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Video file size exceeds the 5MB limit.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;Â 
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  userProfileData.videoFile = file;
Â  Â  Â  Â  Â  Â  Â  Â  userProfileData.videoFileName = file.name;
Â  Â  Â  Â  Â  Â  } else if (!userProfileData.videoFile) {
Â  Â  Â  Â  Â  Â  Â  Â  userProfileData.videoFileName = "No file selected.";
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // 1. Gather all data, including the Aadhaar used for login
Â  Â  Â  Â  Â  Â  const aadharNumber = document.getElementById("aadhar").value;Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (aadharNumber.length !== 12) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Aadhaar number is required to save the profile. Please enter it in the Login section.");
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Update local user profile object
Â  Â  Â  Â  Â  Â  userProfileData.name = document.getElementById("p_name").value;
Â  Â  Â  Â  Â  Â  userProfileData.skills = document.getElementById("p_skills").value;
Â  Â  Â  Â  Â  Â  userProfileData.age = document.getElementById("p_age").value;
Â  Â  Â  Â  Â  Â  userProfileData.education = document.getElementById("p_education").value;
Â  Â  Â  Â  Â  Â  userProfileData.location = document.getElementById("p_location").value;
Â  Â  Â  Â  Â  Â  userProfileData.contact = document.getElementById("p_contact").value;
Â  Â  Â  Â  Â  Â  userProfileData.jobtype = document.getElementById("p_jobtype").value;
Â  Â  Â  Â  Â  Â  userProfileData.experience = document.getElementById("p_experience").value;
Â  Â  Â  Â  Â  Â  userProfileData.email = document.getElementById("p_email").value;

Â  Â  Â  Â  Â  Â  // 2. Prepare data object for the server
Â  Â  Â  Â  Â  Â  const dataToSend = {
Â  Â  Â  Â  Â  Â  Â  Â  aadhar: aadharNumber,Â 
Â  Â  Â  Â  Â  Â  Â  Â  name: userProfileData.name,
Â  Â  Â  Â  Â  Â  Â  Â  skills: userProfileData.skills,
Â  Â  Â  Â  Â  Â  Â  Â  age: userProfileData.age,
Â  Â  Â  Â  Â  Â  Â  Â  education: userProfileData.education,
Â  Â  Â  Â  Â  Â  Â  Â  location: userProfileData.location,
Â  Â  Â  Â  Â  Â  Â  Â  contact: userProfileData.contact,
Â  Â  Â  Â  Â  Â  Â  Â  jobtype: userProfileData.jobtype,
Â  Â  Â  Â  Â  Â  Â  Â  experience: userProfileData.experience,
Â  Â  Â  Â  Â  Â  Â  Â  email: userProfileData.email
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  // 3. Send data to the new server endpoint
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(SAVE_PROFILE_API, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: {'Content-Type': 'application/json'},
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify(dataToSend)
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  const result = await response.json();

Â  Â  Â  Â  Â  Â  Â  Â  if (result.success) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Success: Update Local StorageÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const profileData = JSON.stringify(userProfileData);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('kaamsetu_profile', profileData);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Show Alerts and Nav Buttons
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("navProfile").style.display = "block";Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("navList").style.display = "inline-block";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const alertBox = document.getElementById("profileSavedAlert");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alertBox.style.opacity = 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => { alertBox.style.opacity = 0; }, 3000);Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // CHANGE 3: Clear the file input field after successful save
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("p_video").value = "";Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // 4. Show the Job Seekers List and refresh it
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showSection("jobSeekers");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  populateJobSeekersList();Â 
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Error saving profile to server: " + result.message);
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error in saveProfile:', error);
Â  Â  Â  Â  Â  Â  Â  Â  alert("Failed to connect to server. Check console for details.");
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function loadProfileEditData() {
Â  Â  Â  Â  Â  Â  const storedData = localStorage.getItem('kaamsetu_profile');
Â  Â  Â  Â  Â  Â  if (storedData) {
Â  Â  Â  Â  Â  Â  Â  Â  const profileData = JSON.parse(storedData);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Object.assign(userProfileData, profileData);

Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("p_name").value = userProfileData.name || '';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("p_skills").value = userProfileData.skills || '';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("p_age").value = userProfileData.age || '';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("p_education").value = userProfileData.education || '';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("p_location").value = userProfileData.location || '';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("p_contact").value = userProfileData.contact || '';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("p_jobtype").value = userProfileData.jobtype || '';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("p_experience").value = userProfileData.experience || '';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("p_email").value = userProfileData.email || '';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("videoFileName").textContent = userProfileData.videoFileName || "No file selected.";
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // If profile data exists in local storage, assume logged in and show icons
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("navProfile").style.display = "block";Â 
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("navList").style.display = "inline-block";
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function loadProfileViewData() {
Â  Â  Â  Â  Â  Â  const storedData = localStorage.getItem('kaamsetu_profile');
Â  Â  Â  Â  Â  Â  if (storedData) {
Â  Â  Â  Â  Â  Â  Â  Â  const profileData = JSON.parse(storedData);
Â  Â  Â  Â  Â  Â  Â  Â  Object.assign(userProfileData, profileData);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateVideoFileName(input) {
Â  Â  Â  Â  Â  Â  const fileName = input.files.length > 0 ? input.files[0].name : "No file selected.";
Â  Â  Â  Â  Â  Â  document.getElementById("videoFileName").textContent = fileName;
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- Initial Load ---
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  Â  Â  loadProfileEditData();                                                                                     populateJobSeekersList();Â 
Â  Â  Â  Â  });
Â  Â  </script>
</body>

</html>
